!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.pix=t()}}(function(){var t;return function n(t,i,r){function e(a,s){if(!i[a]){if(!t[a]){var h="function"==typeof require&&require;if(!s&&h)return h(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(n){var i=t[a][1][n];return e(i?i:n)},c,c.exports,n,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)e(r[a]);return e}({1:[function(n,i,r){!function(){"use strict";function n(){return new r}var r=function(){this._reset()};r.prototype={add:function(t){var n=this._isPrimitive(t)?t:this._lastId;return"undefined"==typeof t._disjointSetId&&(t._disjointSetId=this._relations[n]=n,this._objects[n]=t,this._size[n]=1,this._lastId++),this},find:function(t){var n=this._isPrimitive(t)?t:t._disjointSetId;return this._findById(n)},_findById:function(t){for(var n=t;this._relations[n]!==n;)n=this._relations[n];return n},connected:function(t,n){return this.find(t)===this.find(n)?!0:!1},union:function(t,n){var i=this.find(t),r=this.find(n);return i===r?this:(this._size[i]<this._size[r]?(this._relations[i]=r,this._size[i]+=this._size[r]):(this._relations[r]=i,this._size[r]+=this._size[i]),this)},extract:function(){var t,n={},i=[];for(var r in this._relations)t=this._findById(r),"undefined"==typeof n[t]&&(n[t]=[]),n[t].push(this._objects[r]);for(var e in n)i.push(n[e]);return i},destroy:function(){this._reset()},_isPrimitive:function(t){return"undefined"!=typeof this.IS_PRIMITIVE?this.IS_PRIMITIVE:(this.IS_PRIMITIVE=r._isPrimitive(t),this.IS_PRIMITIVE)},_reset:function(){for(var t in this._objects)delete this._objects[t]._disjointSetId;this._objects={},this._relations={},this._size={},this._lastId=0}},r._isPrimitive=function(t){return"[object String]"===Object.prototype.toString.call(t)||"[object Number]"===Object.prototype.toString.call(t)?!0:!1},"function"==typeof t&&t.amd?t(function(){return n}):"undefined"!=typeof i?i.exports=n:"undefined"!=typeof self?self.disjointSet=n:window.disjointSet=n}()},{}],2:[function(t,n,i){function r(t,n,i){return(n[0]-t[0])*(i[1]-t[1])-(n[1]-t[1])*(i[0]-t[0])}function e(t){for(var n=[],i=0;i<t.length;i++){for(;n.length>=2&&r(n[n.length-2],n[n.length-1],t[i])<=0;)n.pop();n.push(t[i])}return n.pop(),n}function o(t){for(var n=t.reverse(),i=[],e=0;e<n.length;e++){for(;i.length>=2&&r(i[i.length-2],i[i.length-1],n[e])<=0;)i.pop();i.push(n[e])}return i.pop(),i}function a(t){var n,i=e(t),r=o(t);return n=r.concat(i),n.push(t[0]),n}n.exports=a},{}],3:[function(t,n,i){n.exports={toXy:function(t,n){return void 0===n?t.slice():t.map(function(t){var i=new Function("pt","return [pt"+n[0]+",pt"+n[1]+"];");return i(t)})},fromXy:function(t,n){return void 0===n?t.slice():t.map(function(t){var i=new Function("pt","var o = {}; o"+n[0]+"= pt[0]; o"+n[1]+"= pt[1]; return o;");return i(t)})}}},{}],4:[function(t,n,i){function r(t,n){this._cells=[],this._cellSize=n,t.forEach(function(t){var n=this.point2CellXY(t),i=n[0],r=n[1];void 0===this._cells[i]&&(this._cells[i]=[]),void 0===this._cells[i][r]&&(this._cells[i][r]=[]),this._cells[i][r].push(t)},this)}function e(t,n){return new r(t,n)}r.prototype={cellPoints:function(t,n){return void 0!==this._cells[t]&&void 0!==this._cells[t][n]?this._cells[t][n]:[]},rangePoints:function(t){for(var n=this.point2CellXY([t[0],t[1]]),i=this.point2CellXY([t[2],t[3]]),r=[],e=n[0];e<=i[0];e++)for(var o=n[1];o<=i[1];o++)r=r.concat(this.cellPoints(e,o));return r},removePoint:function(t){for(var n,i=this.point2CellXY(t),r=this._cells[i[0]][i[1]],e=0;e<r.length;e++)if(r[e][0]===t[0]&&r[e][1]===t[1]){n=e;break}return r.splice(n,1),r},point2CellXY:function(t){var n=parseInt(t[0]/this._cellSize),i=parseInt(t[1]/this._cellSize);return[n,i]},extendBbox:function(t,n){return[t[0]-n*this._cellSize,t[1]-n*this._cellSize,t[2]+n*this._cellSize,t[3]+n*this._cellSize]}},n.exports=e},{}],5:[function(t,n,i){"use strict";function r(t){return t.filter(function(t,n,i){var r=i[n-1];return 0===n||!(r[0]===t[0]&&r[1]===t[1])})}function e(t){return t.sort(function(t,n){return t[0]==n[0]?t[1]-n[1]:t[0]-n[0]})}function o(t,n){return Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)}function a(t,n,i){var r=[n[0]-t[0],n[1]-t[1]],e=[i[0]-t[0],i[1]-t[1]],a=o(t,n),s=o(t,i),h=r[0]*e[0]+r[1]*e[1];return h/Math.sqrt(a*s)}function s(t,n){for(var i=0;i<n.length-1;i++){var r=[n[i],n[i+1]];if(!(t[0][0]===r[0][0]&&t[0][1]===r[0][1]||t[0][0]===r[1][0]&&t[0][1]===r[1][1])&&d(t,r))return!0}return!1}function h(t){for(var n=1/0,i=1/0,r=-(1/0),e=-(1/0),o=t.length-1;o>=0;o--)t[o][0]<n&&(n=t[o][0]),t[o][1]<i&&(i=t[o][1]),t[o][0]>r&&(r=t[o][0]),t[o][1]>e&&(e=t[o][1]);return[r-n,e-i]}function c(t){return[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1]),Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]}function u(t,n,i){for(var r,e,o=null,h=v,c=v,u=0;u<n.length;u++)r=a(t[0],t[1],n[u]),e=a(t[1],t[0],n[u]),r>h&&e>c&&!s([t[0],n[u]],i)&&!s([t[1],n[u]],i)&&(h=r,c=e,o=n[u]);return o}function l(t,n,i,r,e){for(var a,s,h,f,d,p,x,m=!1,v=0;v<t.length-1;v++)if(a=[t[v],t[v+1]],s=a[0].join()+","+a[1].join(),!(o(a[0],a[1])<n||e[s]===!0)){h=0,d=c(a);do d=r.extendBbox(d,h),p=d[2]-d[0],x=d[3]-d[1],f=u(a,r.rangePoints(d),t),h++;while(null===f&&(i[0]>p||i[1]>x));p>=i[0]&&x>=i[1]&&(e[s]=!0),null!==f&&(t.splice(v+1,0,f),r.removePoint(f),m=!0)}return m?l(t,n,i,r,e):t}function f(t,n,i){var o,a,s,c,u,f,d,v=n||20;return t.length<4?t.slice():(d=r(e(x.toXy(t,i))),c=h(d),u=[c[0]*g,c[1]*g],o=m(d),s=d.filter(function(t){return o.indexOf(t)<0}),f=Math.ceil(1/(d.length/(c[0]*c[1]))),a=l(o,Math.pow(v,2),u,p(s,f),{}),x.fromXy(a,i))}var d=t("./intersect.js"),p=t("./grid.js"),x=t("./format.js"),m=t("./convex.js"),v=Math.cos(90/(180/Math.PI)),g=.6;n.exports=f},{"./convex.js":2,"./format.js":3,"./grid.js":4,"./intersect.js":6}],6:[function(t,n,i){function r(t,n,i,r,e,o){var a=(o-n)*(i-t)-(r-n)*(e-t);return a>0?!0:0>a?!1:!0}function e(t,n){var i=t[0][0],e=t[0][1],o=t[1][0],a=t[1][1],s=n[0][0],h=n[0][1],c=n[1][0],u=n[1][1];return r(i,e,s,h,c,u)!==r(o,a,s,h,c,u)&&r(i,e,o,a,s,h)!==r(i,e,o,a,c,u)}n.exports=e},{}],7:[function(t,n,i){!function(){function t(t,n,r,e){var o=h("Array",n)?n:[n];a(t)?i(s(t),o,r,e):t.addEventListener("load",function(){i(s(t),o,r,e)},!1)}function i(t,n,i,a){function s(t){l[t.x+"-"+t.y]=!0,void 0!==i&&void 0!==i.onvisit&&i.onvisit({pixel:{coord:t,color:e(t,c,u)},stop:function(){f=!0},skip:function(){d=!0}})}var h=t.getContext("2d"),c={w:t.width,h:t.height},u=h.getImageData(0,0,c.w,c.h).data,l={},f=!1,d=!1;void 0!==a&&a.forEach(function(t){l[t.x+"-"+t.y]=!0}),s(n[0]);t:for(;n.length>0&&!f;)for(var p=n.shift(),x=r(p,c),m=([u[x],u[x+1],u[x+2],u[x+3]],o(p,c,u)),v=0;v<m.length;v++){var g=m[v];if(l[g.coord.x+"-"+g.coord.y]!==!0){if(s(g.coord),f)break t;d||n.push(g.coord),d=!1}}}function r(t,n){return(t.y-1)*n.w*4+(4*t.x-4)}function e(t,n,i){var e=r(t,n);return[i[e],i[e+1],i[e+2],i[e+3]]}function o(t,n,i){var r,o=[];return t.x>0&&t.y>0&&(r={x:t.x-1,y:t.y-1},o.push({coord:r,color:e(r,n,i)})),t.y>0&&(r={x:t.x,y:t.y-1},o.push({coord:r,color:e(r,n,i)})),t.x<n.w&&t.y>0&&(r={x:t.x+1,y:t.y-1},o.push({coord:r,color:e(r,n,i)})),t.x<n.w&&(r={x:t.x+1,y:t.y},o.push({coord:r,color:e(r,n,i)})),t.x<n.w&&t.y<n.h&&(r={x:t.x+1,y:t.y+1},o.push({coord:r,color:e(r,n,i)})),t.y<n.h&&(r={x:t.x,y:t.y+1},o.push({coord:r,color:e(r,n,i)})),t.x>0&&t.y<n.h&&(r={x:t.x-1,y:t.y+1},o.push({coord:r,color:e(r,n,i)})),t.x>0&&(r={x:t.x-1,y:t.y},o.push({coord:r,color:e(r,n,i)})),o}function a(t){return!("undefined"!=typeof t.naturalWidth&&0===t.naturalWidth)}function s(t){if("CANVAS"===t.tagName)return t;var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0,t.width,t.height),n}function h(t,n){var i=Object.prototype.toString.call(n).slice(8,-1);return void 0!==n&&null!==n&&i===t}"undefined"!=typeof n?n.exports=t:window.bfs=t}()},{}],8:[function(n,i,r){!function(n,e){"object"==typeof r&&"undefined"!=typeof i?i.exports=e():"function"==typeof t&&t.amd?t(e):n.quickselect=e()}(this,function(){"use strict";function t(t,i,e,o,a){n(t,i,e||0,o||t.length-1,a||r)}function n(t,r,e,o,a){for(;o>e;){if(o-e>600){var s=o-e+1,h=r-e+1,c=Math.log(s),u=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*u*(s-u)/s)*(0>h-s/2?-1:1),f=Math.max(e,Math.floor(r-h*u/s+l)),d=Math.min(o,Math.floor(r+(s-h)*u/s+l));n(t,r,f,d,a)}var p=t[r],x=e,m=o;for(i(t,e,r),a(t[o],p)>0&&i(t,e,o);m>x;){for(i(t,x,m),x++,m--;a(t[x],p)<0;)x++;for(;a(t[m],p)>0;)m--}0===a(t[e],p)?i(t,e,m):(m++,i(t,m,o)),r>=m&&(e=m+1),m>=r&&(o=m-1)}}function i(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function r(t,n){return n>t?-1:t>n?1:0}return t})},{}],9:[function(t,n,i){"use strict";function r(t,n){return this instanceof r?(this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),void this.clear()):new r(t,n)}function e(t,n,i){if(!i)return n.indexOf(t);for(var r=0;r<n.length;r++)if(i(t,n[r]))return r;return-1}function o(t,n){a(t,0,t.children.length,n,t)}function a(t,n,i,r,e){e||(e=m(null)),e.minX=1/0,e.minY=1/0,e.maxX=-(1/0),e.maxY=-(1/0);for(var o,a=n;i>a;a++)o=t.children[a],s(e,t.leaf?r(o):o);return e}function s(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function h(t,n){return t.minX-n.minX}function c(t,n){return t.minY-n.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}function d(t,n){var i=Math.max(t.minX,n.minX),r=Math.max(t.minY,n.minY),e=Math.min(t.maxX,n.maxX),o=Math.min(t.maxY,n.maxY);return Math.max(0,e-i)*Math.max(0,o-r)}function p(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function x(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-(1/0),maxY:-(1/0)}}function v(t,n,i,r,e){for(var o,a=[n,i];a.length;)i=a.pop(),n=a.pop(),r>=i-n||(o=n+Math.ceil((i-n)/r/2)*r,g(t,o,n,i,e),a.push(n,o,o,i))}n.exports=r,n.exports["default"]=r;var g=t("quickselect");r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var n=this.data,i=[],r=this.toBBox;if(!x(t,n))return i;for(var e,o,a,s,h=[];n;){for(e=0,o=n.children.length;o>e;e++)a=n.children[e],s=n.leaf?r(a):a,x(t,s)&&(n.leaf?i.push(a):p(t,s)?this._all(a,i):h.push(a));n=h.pop()}return i},collides:function(t){var n=this.data,i=this.toBBox;if(!x(t,n))return!1;for(var r,e,o,a,s=[];n;){for(r=0,e=n.children.length;e>r;r++)if(o=n.children[r],a=n.leaf?i(o):o,x(t,a)){if(n.leaf||p(t,a))return!0;s.push(o)}n=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0,i=t.length;i>n;n++)this.insert(t[n]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var e=this.data;this.data=r,r=e}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,n){if(!t)return this;for(var i,r,o,a,s=this.data,h=this.toBBox(t),c=[],u=[];s||c.length;){if(s||(s=c.pop(),r=c[c.length-1],i=u.pop(),a=!0),s.leaf&&(o=e(t,s.children,n),-1!==o))return s.children.splice(o,1),c.push(s),this._condense(c),this;a||s.leaf||!p(s,h)?r?(i++,s=r.children[i],a=!1):s=null:(c.push(s),u.push(i),i=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:h,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,n){for(var i=[];t;)t.leaf?n.push.apply(n,t.children):i.push.apply(i,t.children),t=i.pop();return n},_build:function(t,n,i,r){var e,a=i-n+1,s=this._maxEntries;if(s>=a)return e=m(t.slice(n,i+1)),o(e,this.toBBox),e;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),e=m([]),e.leaf=!1,e.height=r;var h,c,u,l,f=Math.ceil(a/s),d=f*Math.ceil(Math.sqrt(s));for(v(t,n,i,d,this.compareMinX),h=n;i>=h;h+=d)for(u=Math.min(h+d-1,i),v(t,h,u,f,this.compareMinY),c=h;u>=c;c+=f)l=Math.min(c+f-1,u),e.children.push(this._build(t,c,l,r-1));return o(e,this.toBBox),e},_chooseSubtree:function(t,n,i,r){for(var e,o,a,s,h,c,l,d;;){if(r.push(n),n.leaf||r.length-1===i)break;for(l=d=1/0,e=0,o=n.children.length;o>e;e++)a=n.children[e],h=u(a),c=f(t,a)-h,d>c?(d=c,l=l>h?h:l,s=a):c===d&&l>h&&(l=h,s=a);n=s||n.children[0]}return n},_insert:function(t,n,i){var r=this.toBBox,e=i?t:r(t),o=[],a=this._chooseSubtree(e,this.data,n,o);for(a.children.push(t),s(a,e);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(e,o,n)},_split:function(t,n){var i=t[n],r=i.children.length,e=this._minEntries;this._chooseSplitAxis(i,e,r);var a=this._chooseSplitIndex(i,e,r),s=m(i.children.splice(a,i.children.length-a));s.height=i.height,s.leaf=i.leaf,o(i,this.toBBox),o(s,this.toBBox),n?t[n-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,n){this.data=m([t,n]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,n,i){var r,e,o,s,h,c,l,f;for(c=l=1/0,r=n;i-n>=r;r++)e=a(t,0,r,this.toBBox),o=a(t,r,i,this.toBBox),s=d(e,o),h=u(e)+u(o),c>s?(c=s,f=r,l=l>h?h:l):s===c&&l>h&&(l=h,f=r);return f},_chooseSplitAxis:function(t,n,i){var r=t.leaf?this.compareMinX:h,e=t.leaf?this.compareMinY:c,o=this._allDistMargin(t,n,i,r),a=this._allDistMargin(t,n,i,e);a>o&&t.children.sort(r)},_allDistMargin:function(t,n,i,r){t.children.sort(r);var e,o,h=this.toBBox,c=a(t,0,n,h),u=a(t,i-n,i,h),f=l(c)+l(u);for(e=n;i-n>e;e++)o=t.children[e],s(c,t.leaf?h(o):o),f+=l(c);for(e=i-n-1;e>=n;e--)o=t.children[e],s(u,t.leaf?h(o):o),f+=l(u);return f},_adjustParentBBoxes:function(t,n,i){for(var r=i;r>=0;r--)s(n[r],t)},_condense:function(t){for(var n,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children,n.splice(n.indexOf(t[i]),1)):this.clear():o(t[i],this.toBBox)},_initFormat:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:8}],10:[function(t,n,i){"use strict";function r(t){var n=o(t),i=p.canvas.wrap(n.img),r=i.getContext("2d"),e={w:i.width,h:i.height},s=r.getImageData(0,0,e.w,e.h).data,h=p.canvas.point2ColorPos(n.startPoint,e),c=[s[h],s[h+1],s[h+2],s[h+3]],d=u(9,[".x",".y",".x",".y"]);return a(c,n)?(l(i,n.startPoint,{onvisit:function(t){var i=t.pixel.coord;if(a(t.pixel.color,n))d.insert(i);else{var r={minX:i.x-n.distance,minY:i.y-n.distance,maxX:i.x+n.distance,maxY:i.y+n.distance};0===d.search(r).length&&t.skip()}}}),f(d.all(),n.concavity,[".x",".y"])):[]}function e(t){var n,i,r=o(t),e=p.canvas.wrap(r.img);return n=s(e,r.colors,r.accuracy,r.tolerance),i=h(n,r.distance),i=r.clearNoise?c(i,r.clearNoise):i,i.map(function(t){return f(t,r.concavity,[".x",".y"])})}function o(t){var n=t;return n.accuracy=n.accuracy||2,n.distance=n.distance||10,n.tolerance=n.tolerance||50,n.colors=n.colors.map(p.canvas.hex2Rgb),n.clearNoise=n.clearNoise||!1,n.concavity=n.concavity||10,n}function a(t,n){return p.canvas.colorInColors(t,n.colors,n.tolerance)}function s(t,n,i,r){for(var e=[],o=t.getContext("2d"),a={w:t.width,h:t.height},s=o.getImageData(0,0,a.w,a.h).data,h=0;h<s.length;h+=4*i){var c=[s[h],s[h+1],s[h+2],s[h+3]],u=p.canvas.neighborColors(h,s,a),l=p.canvas.colorPos2Point(h,a);p.canvas.colorInAllColors(c,u,r)||p.canvas.colorInColors(c,n,r)&&e.push(l)}return e}function h(t,n){var i=d(),r=u(9,[".x",".y",".x",".y"]);return r.load(t),t.forEach(function(t){var e={minX:t.x-n,minY:t.y-n,maxX:t.x+n,maxY:t.y+n},o=r.search(e);i.add(t),o.forEach(function(n){i.add(n),i.connected(t,n)||i.union(t,n)})}),i.extract()}function c(t,n){return t.filter(function(t){return t.length>=n})}var u=t("rbush"),l=t("img-bfs"),f=t("hull.js"),d=t("disjoint-set"),p={canvas:t("./util/canvas"),math:t("./util/math"),dom:t("./util/dom")};i.find=r,i.findAll=e,i.util=p},{"./util/canvas":11,"./util/dom":12,"./util/math":13,"disjoint-set":1,"hull.js":5,"img-bfs":7,rbush:9}],11:[function(t,n,i){"use strict";function r(t){if(t.getContext&&t.getContext("2d"))return t;var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0,t.width,t.height),n}function e(t,n){var i={x:0,y:0};return i.y=parseInt(t/(4*n.w)),i.x=t/4-i.y*n.w,i}function o(t,n){return(t.y-1)*n.w*4+(4*t.x-4)}function a(t,n,i){var r,o,a,s,h,c,u,l,f=[],d=e(t,i);return d.x>0&&d.y>0&&(r=t-4-4*i.w,f.push([n[r],n[r+1],n[r+2],n[r+3]])),d.y>0&&(o=t-4*i.w,f.push([n[o],n[o+1],n[o+2],n[o+3]])),d.x<i.w&&d.y>0&&(a=t-4*i.w+4,f.push([n[a],n[a+1],n[a+2],n[a+3]])),d.x<i.w&&(s=t+4,f.push([n[s],n[s+1],n[s+2],n[s+3]])),d.x<i.w&&d.y<i.h&&(h=t+4*i.w+4,f.push([n[h],n[h+1],n[h+2],n[h+3]])),d.y<i.h&&(c=t+4*i.w,f.push([n[c],n[c+1],n[c+2],n[c+3]])),d.x>0&&d.y<i.h&&(u=t+4*i.w-4,f.push([n[u],n[u+1],n[u+2],n[u+3]])),d.x>0&&(l=t-4,f.push([n[l],n[l+1],n[l+2],n[l+3]])),f}function s(t){var n=parseInt(t,16);return[n>>16,n>>8&255,255&n]}function h(t){return(t[2]|t[1]<<8|t[0]<<16|1<<24).toString(16).slice(1)}function c(t,n,i){var r=Math.abs(t[0]-n[0])<i,e=Math.abs(t[1]-n[1])<i,o=Math.abs(t[2]-n[2])<i;return r&&e&&o}function u(t,n,i){for(var r=0;r<n.length;r++)if(c(t,n[r],i)===!1)return!1;return!0}function l(t,n,i){for(var r=0;r<n.length;r++)if(c(t,n[r],i)===!0)return!0;return!1}i.wrap=r,i.colorPos2Point=e,i.point2ColorPos=o,i.neighborColors=a,i.hex2Rgb=s,i.rgb2Hex=h,i.similarColors=c,i.colorInColors=l,i.colorInAllColors=u},{}],12:[function(t,n,i){"use strict";function r(t){return!("undefined"!=typeof t.naturalWidth&&0===t.naturalWidth)}function e(t,n){r(t)?n():t.addEventListener("load",n,!1)}i.loaded=r,i.onload=e},{}],13:[function(t,n,i){"use strict";function r(t,n){return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)}i.sqDist=r},{}]},{},[10])(10)});